{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 29e653b64cb4cb2ac6a9","webpack:///external {\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"_\",\"root\":\"_\"}","webpack:///./src/index.js"],"names":["detectArrayOfObject","pathElement","parsePathElement","elements","objectString","key","selector","value","undefined","getFromPath","origin","path","normalizePath","magicRegex","RegExp","pathElements","newValue","result","newPathArray","newPath","valueFromKey","newIndex","objectInArray","getDeepPathFunction","getDeepPath","normalizedGetFunction","normalizedPath","deepGet","normalizedSetFunction","data","newOrigin","deepSet","normalizedUpdateFunction","updateFunction","oldData","newData","deepUpdate"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"index\", [\"_\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"index\"] = factory(require(\"lodash\"));\n\telse\n\t\troot[\"index\"] = factory(root[\"_\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 29e653b64cb4cb2ac6a9","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"_\",\"root\":\"_\"}\n// module id = 0\n// module chunks = 0","import {\n  get,\n  reduce,\n  split,\n  includes,\n  endsWith,\n  isEqual,\n  toString,\n  trim,\n  findIndex,\n  concat,\n  join,\n  curry,\n  cloneDeep,\n  set,\n} from 'lodash';\n\nexport const detectArrayOfObject = pathElement => (\n  includes(pathElement, '[{') && endsWith(pathElement, '}]')\n);\n\nexport const parsePathElement = (pathElement) => {\n  if (detectArrayOfObject(pathElement)) {\n    const elements = split(pathElement, '[{');\n    const objectString = trim(elements[1], '[{}]');\n    const key = elements[0];\n    const selector = split(objectString, '=')[0];\n    const value = split(objectString, '=')[1];\n    return {\n      key,\n      selector,\n      value,\n    };\n  }\n  return undefined;\n};\n\nconst getFromPath = (origin, path) => {\n  if (!path) {\n    return origin;\n  }\n  return get(origin, path);\n};\n\n// Path shapes:\n// a.b\n// a[0].b\n// a[{id=1}].b\n// [0].b\n// [{id=1}].b\n\nexport const normalizePath = (origin, path = '') => {\n  const magicRegex = new RegExp(/\\.(?![^[]*\\])/, 'g');\n\n  const pathElements = split(path, magicRegex);\n  const newValue = reduce(pathElements, (result, pathElement) => {\n    if (detectArrayOfObject(pathElement)) {\n      const { key, selector, value } = parsePathElement(pathElement);\n      const newPathArray = key ? concat(result, key) : result;\n      const newPath = join(newPathArray, '.');\n      const valueFromKey = getFromPath(origin, newPath);\n      const newIndex = findIndex(valueFromKey, objectInArray => (\n        isEqual(toString(get(objectInArray, selector)), value)\n      ));\n\n      return concat(result, `${key}[${newIndex}]`);\n    }\n    return concat(result, pathElement);\n  }, []);\n  return join(newValue, '.');\n};\n\nconst getDeepPathFunction = (path, origin) => normalizePath(origin, path);\n\nexport const getDeepPath = curry(getDeepPathFunction);\n\n// NormalizeGet\nexport const normalizedGetFunction = (path, origin) => {\n  const normalizedPath = normalizePath(origin, path);\n  return get(origin, normalizedPath);\n};\nexport const deepGet = curry(normalizedGetFunction);\n\n// NormalizeSet\nexport const normalizedSetFunction = (path, data, origin) => {\n  const normalizedPath = normalizePath(origin, path);\n  const newOrigin = cloneDeep(origin);\n  set(newOrigin, normalizedPath, data);\n  return newOrigin;\n};\nexport const deepSet = curry(normalizedSetFunction);\n\n\n// NormalizeUpdate\nexport const normalizedUpdateFunction = (path, updateFunction, origin) => {\n  const normalizedPath = normalizePath(origin, path);\n  const newOrigin = cloneDeep(origin);\n  const oldData = get(origin, normalizedPath);\n  const newData = updateFunction(oldData);\n  set(newOrigin, normalizedPath, newData);\n  return newOrigin;\n};\nexport const deepUpdate = curry(normalizedUpdateFunction);\n\n\nexport default normalizePath;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}